import{_ as E,d as j,i as F,w as t,o as G,a as N,p as $,b as U,c as V,e as w,t as Y,u as q,n as J,r as Q,F as X,f as ee}from"./app.1205231e.js";import{u as oe}from"./useLife.2e7b82fe.js";import{b as ne}from"./bindEvents.81d30a10.js";const te={style:{position:"absolute",top:"50%",left:"50%",transform:"translateY(-50%, -50%)"}},le=j({props:{ak:null,width:{default:"100%"},height:{default:"400px"},center:{default:()=>({lat:39.915185,lng:116.403901})},mapType:{default:"BMAP_NORMAL_MAP"},zoom:{default:16},heading:{default:0},tilt:{default:0},minZoom:{default:0},maxZoom:{default:21},enableDragging:{type:Boolean,default:!0},enableInertialDragging:{type:Boolean,default:!0},enableScrollWheelZoom:{type:Boolean,default:!0},enableContinuousZoom:{type:Boolean,default:!0},enableResizeOnCenter:{type:Boolean,default:!0},enableDoubleClickZoom:{type:Boolean,default:!1},enableKeyboard:{type:Boolean,default:!0},enablePinchToZoom:{type:Boolean,default:!0},enableAutoResize:{type:Boolean,default:!0},onClick:null,onDblclick:null,onRightclick:null,onRightdblclick:null,onMaptypechange:null,onMousemove:null,onMouseover:null,onMouseout:null,onMovestart:null,onMoving:null,onMoveend:null,onZoomstart:null,onZoomend:null,onAddoverlay:null,onAddcontrol:null,onRemovecontrol:null,onRemoveoverlay:null,onClearoverlays:null,onDragstart:null,onDragging:null,onDragend:null,onAddtilelayer:null,onRemovetilelayer:null,onLoad:null,onResize:null,onHotspotclick:null,onHotspotover:null,onHotspotout:null,onTilesloaded:null,onTouchstart:null,onTouchmove:null,onTouchend:null,onLongpress:null},emits:["initd","unload","click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],setup(M,{emit:k}){const n=M;let o=null,i=!1;const{ready:D}=oe("initd"),z=n.ak||F("baiduMapAk");t(()=>n.zoom,s),t(()=>n.tilt,m),t(()=>n.heading,c),t(()=>n.center,A),t(()=>n.enableDragging,p),t(()=>n.enableInertialDragging,g),t(()=>n.enableScrollWheelZoom,b),t(()=>n.enableContinuousZoom,f),t(()=>n.enableResizeOnCenter,y),t(()=>n.enableDoubleClickZoom,h),t(()=>n.enableKeyboard,v),t(()=>n.enablePinchToZoom,Z),t(()=>n.enableAutoResize,C),t(()=>n.mapType,d);function B(){return window._BMap?Promise.resolve():(window._BMap={},window._BMap.scriptLoader=new Promise((e,a)=>{const l=document.createElement("script");window._initBMap=()=>{e(),window.document.body.removeChild(l)},l.src=`//api.map.baidu.com/api?type=webgl&v=1.0&ak=${z}&callback=_initBMap`,l.type="text/javascript",l.defer=!0,l.onerror=a,document.body.appendChild(l)}),window._BMap.scriptLoader)}function R(){B().then(()=>{const{minZoom:e,maxZoom:a,mapType:l,enableAutoResize:r}=n;o=new BMapGL.Map("baidu-map-container",{minZoom:e,maxZoom:a,mapType:window[l],enableAutoResize:r}),_(),T(),ne(n,k,o),i||(i=!0,ee(()=>D(o)))})}function T(){const{enableDragging:e,enableInertialDragging:a,enableScrollWheelZoom:l,enableContinuousZoom:r,enableResizeOnCenter:P,enableDoubleClickZoom:S,enableKeyboard:x,enablePinchToZoom:L,enableAutoResize:O,mapType:I,zoom:K,tilt:W,heading:H}=n;s(K),m(W),c(H),p(e),g(a),b(l),f(r),y(P),h(S),v(x),Z(L),C(O),d(I)}function u(e,a){return new BMapGL.Point(e,a)}function A(){typeof n.center=="string"?o.setCenter(n.center):o.setCenter(u(n.center.lng,n.center.lat))}function _(){typeof n.center=="string"?o.centerAndZoom(n.center):o.centerAndZoom(u(n.center.lng,n.center.lat),n.zoom)}function s(e){o.setZoom(e)}function d(e){o.setMapType(window[e])}function c(e){o.setHeading(e)}function m(e){o.setTilt(e)}function p(e){e?o.enableDragging():o.disableDragging()}function g(e){e?o.enableInertialDragging():o.disableInertialDragging()}function b(e){e?o.enableScrollWheelZoom():o.disableScrollWheelZoom()}function f(e){e?o.enableContinuousZoom():o.disableContinuousZoom()}function y(e){e?o.enableResizeOnCenter():o.disableResizeOnCenter()}function h(e){e?o.enableDoubleClickZoom():o.disableDoubleClickZoom()}function v(e){e?o.enableKeyboard():o.disableKeyboard()}function Z(e){e?o.enablePinchToZoom():o.disablePinchToZoom()}function C(e){e?o.enableAutoResize():o.disableAutoResize()}return G(()=>{R()}),N(()=>{o==null||o.destroy()}),$("getMapInstance",()=>o),(e,a)=>(U(),V(X,null,[w("div",{id:"baidu-map-container",style:J([{width:n.width,height:n.height},{position:"relative",overflow:"hidden"}])},[w("div",te,Y(q(i)?"":"map loading..."),1)],4),Q(e.$slots,"default")],64))}});var ue=E(le,[["__file","index.vue"]]);export{ue as default};
